# å¤šç­¾è·¨é“¾æ¡¥é¡¹ç›®

## é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºå¤šç­¾éªŒè¯çš„è·¨é“¾æ¡¥ç³»ç»Ÿï¼Œæ”¯æŒåœ¨ EVM é“¾ï¼ˆArbitrum Sepoliaï¼‰å’Œ SVM é“¾ï¼ˆ1024chainï¼‰ä¹‹é—´è¿›è¡Œ USDC ä»£å¸çš„è·¨é“¾è½¬ç§»ã€‚ç³»ç»Ÿé‡‡ç”¨è´¨æŠ¼-è§£é”æœºåˆ¶ï¼Œé€šè¿‡å¤šä¸ªç‹¬ç«‹çš„ relayer è¿›è¡Œå¤šç­¾éªŒè¯ï¼Œç¡®ä¿è·¨é“¾è½¬è´¦çš„å®‰å…¨æ€§ã€‚

## å¼€å‘çŠ¶æ€

**å½“å‰é˜¶æ®µï¼š** M4 - Relayer æœåŠ¡å¼€å‘ï¼ˆ**S2E Relayer å®Œæ•´å®ç°å¹¶éªŒè¯æˆåŠŸ** âœ…ï¼‰

**æœ€æ–°è¿›å±•ï¼ˆ2025-11-16ï¼‰ï¼š**
- âœ… **Scripts ç›®å½•æ¸…ç†å’Œä¼˜åŒ–** â­
  - âœ… åˆ é™¤ 6 ä¸ªä¸´æ—¶/é‡å¤è„šæœ¬ï¼ˆcheck-request-status.ts, check-transaction.ts, remove-relayer.ts, init-svm-fresh.sh, redeploy-svm.sh, start-relayer.shï¼‰
  - âœ… å¢å¼º `02-deploy-svm.sh`ï¼šæ”¯æŒå‡çº§éƒ¨ç½²/å…¨æ–°éƒ¨ç½²é€‰æ‹©ã€è‡ªåŠ¨å¤‡ä»½æ—§å¯†é’¥å¯¹ã€ç”Ÿæˆæ–° Program ID
  - âœ… è„šæœ¬æ•°é‡ä» 16 ä¸ªç²¾ç®€åˆ° 10 ä¸ªæ ¸å¿ƒè„šæœ¬
  - âœ… ä¿ç•™å®Œæ•´çš„éƒ¨ç½²â†’é…ç½®â†’ç®¡ç†â†’ç”¨æˆ·æ“ä½œæµç¨‹
- âœ… **S2E Relayer (SVMâ†’EVM) å®Œæ•´å®ç°å¹¶æµ‹è¯•é€šè¿‡** â­â­â­
  - âœ… SVM äº‹ä»¶ç›‘å¬å™¨ï¼ˆSolana RPC HTTP API è½®è¯¢ï¼‰
  - âœ… äº‹ä»¶è§£æï¼ˆbase64 + Borsh ååºåˆ—åŒ–ï¼‰
  - âœ… ECDSA ç­¾åç”Ÿæˆï¼ˆSHA-256 + EIP-191 + secp256k1ï¼‰
  - âœ… EVM äº¤æ˜“æäº¤ï¼ˆethers-rsï¼‰
  - âœ… Solana base58 åœ°å€æ”¯æŒ
  - âœ… çŠ¶æ€è¿½è¸ªï¼ˆé¿å…é‡å¤å¤„ç†ï¼‰
  - âœ… HTTP API æœåŠ¡ï¼ˆç«¯å£ 8081ï¼‰
  - âœ… **ç«¯åˆ°ç«¯æµ‹è¯•éªŒè¯æˆåŠŸ**ï¼š
    - SVM Stake (1000 å•ä½) â†’ äº‹ä»¶æ•è· â†’ ECDSA ç­¾å â†’ EVM æäº¤ â†’ USDC ä½™é¢å¢åŠ  (+0.001 USDC) âœ…
    - äº¤æ˜“å“ˆå¸Œ: `0xcdad383798c88e3f8464d207b821feced89e90ddbc63ba6f49fa09b6d9d346ec`
- âœ… **E2S Relayer (EVMâ†’SVM) å®Œæ•´å®ç°å¹¶è¿è¡Œ** â­â­â­
  - âœ… **åˆ†ç¦»å¼æ¶æ„**ï¼ˆè§£å†³ Rust ä¾èµ–å†²çªï¼‰
    - `e2s-listener`ï¼šç›‘å¬ EVM äº‹ä»¶ â†’ ä¿å­˜åˆ°æ–‡ä»¶é˜Ÿåˆ—
    - `e2s-submitter`ï¼šä»é˜Ÿåˆ—è¯»å– â†’ Ed25519 ç­¾å â†’ æäº¤åˆ° SVM
  - âœ… EVM äº‹ä»¶ç›‘å¬å™¨ï¼ˆethers event filterï¼‰
  - âœ… äº‹ä»¶è§£æï¼ˆStakeEvent ABI è§£ç ï¼‰
  - âœ… æ–‡ä»¶ç³»ç»Ÿé˜Ÿåˆ—ï¼ˆ`.relayer/queue/event_{nonce}.json`ï¼‰
  - âœ… Ed25519 ç­¾åå™¨ï¼ˆBorsh åºåˆ—åŒ– + Ed25519ï¼‰
  - âœ… SVM äº¤æ˜“æäº¤å™¨ï¼ˆåŒ…å« Ed25519Program é¢„éªŒè¯æŒ‡ä»¤ï¼‰
  - âœ… HTTP API æœåŠ¡ï¼ˆç«¯å£ 8082ï¼‰
  - âœ… æœåŠ¡å·²è¿è¡Œå¹¶ç›‘å¬äº‹ä»¶
- âœ… **SVM ç”¨æˆ·è„šæœ¬ä¼˜åŒ–**
  - âœ… æ·»åŠ  5 ç§’è¶…æ—¶é…ç½®
  - âœ… å®ç°äº¤æ˜“çŠ¶æ€è½®è¯¢ï¼ˆæ›¿ä»£ confirmTransactionï¼‰
  - âœ… ç«‹å³è¿”å›äº¤æ˜“ç­¾å

**ä¹‹å‰å®Œæˆï¼ˆ2025-11-15ï¼‰ï¼š**
- âœ… **EVM åˆçº¦é‡æ„å®Œæˆï¼ˆv2.0ï¼‰** â­
  - âœ… **åˆçº¦æœ¬èº«ä½œä¸ºé‡‘åº“**ï¼šç®€åŒ–æ¶æ„ï¼Œæé«˜å®‰å…¨æ€§
  - âœ… æ— éœ€å¤–éƒ¨ vault åœ°å€å’Œ approve æ“ä½œ
  - âœ… ä½¿ç”¨ `transfer()` è€Œé `transferFrom()` è½¬å‡ºä»£å¸
  - âœ… æ‰€æœ‰ 41 ä¸ªæµ‹è¯•é€šè¿‡ï¼ˆ100%ï¼‰
- âœ… **SVM åˆçº¦æ ¸å¿ƒåŠŸèƒ½å¼€å‘å®Œæˆ**
  - âœ… ç»Ÿä¸€åˆå§‹åŒ–åŠŸèƒ½ï¼ˆinitializeï¼‰
  - âœ… USDCé…ç½®åŠŸèƒ½ï¼ˆconfigure_usdcï¼‰
  - âœ… ç»Ÿä¸€å¯¹ç«¯é…ç½®åŠŸèƒ½ï¼ˆconfigure_peerï¼‰
  - âœ… å‘é€ç«¯è´¨æŠ¼åŠŸèƒ½ï¼ˆstakeï¼‰+ äº‹ä»¶å‘å‡ºï¼ˆStakeEventï¼‰
  - âœ… Relayerç™½åå•ç®¡ç†ï¼ˆadd_relayer, remove_relayerï¼‰
  - âœ… **Ed25519ç­¾åéªŒè¯**ï¼ˆçœŸå®çš„å¯†ç å­¦éªŒè¯ï¼‰â­
  - âœ… å¤šç­¾é˜ˆå€¼æ£€æŸ¥ï¼ˆ> 2/3ï¼‰
  - âœ… Nonceé€’å¢åˆ¤æ–­æœºåˆ¶ï¼ˆé˜²é‡æ”¾æ”»å‡»ï¼‰
  - âœ… CrossChainRequest PDAè´¦æˆ·ï¼ˆæ”¯æŒæ— é™è¯·æ±‚ï¼‰
  - âœ… æµåŠ¨æ€§ç®¡ç†ï¼ˆadd_liquidity, withdraw_liquidityï¼‰
- âœ… **æµ‹è¯•å®Œæˆæƒ…å†µï¼šSVM 45/48ï¼ˆ93.75%ï¼Œ3ä¸ªåˆç†è·³è¿‡ï¼‰ï¼ŒEVM 41/41ï¼ˆ100%ï¼‰**
  - âœ… ç»Ÿä¸€åˆçº¦æµ‹è¯•ï¼š4/4 é€šè¿‡
  - âœ… å‘é€ç«¯åˆçº¦æµ‹è¯•ï¼š4/4 é€šè¿‡ï¼ˆTC-007å·²åˆ é™¤ï¼‰
  - âœ… æ¥æ”¶ç«¯åˆçº¦æµ‹è¯•ï¼š11/11 é€šè¿‡
  - âœ… é›†æˆæµ‹è¯•ï¼š4/4 å…¨éƒ¨é€šè¿‡
  - âœ… å®‰å…¨æµ‹è¯•ï¼š10/13 é€šè¿‡ï¼ˆ3ä¸ªæ¡ä»¶è·³è¿‡ï¼Œåˆç†ï¼‰
  - âœ… æ€§èƒ½æµ‹è¯•ï¼š2/4 é€šè¿‡ï¼ˆ2ä¸ªæ¡ä»¶è·³è¿‡ï¼Œåˆç†ï¼‰
  - âœ… å¯†ç å­¦è¾…åŠ©æµ‹è¯•ï¼š8/8 é€šè¿‡
  - â¸ï¸ **3ä¸ªåˆç†è·³è¿‡**ï¼šlast_nonce æ¥è¿‘ u64::MAX åæ— æ³•ç»§ç»­æµ‹è¯•é€’å¢
- âœ… **Ed25519 ç­¾åéªŒè¯å®Œå…¨å®ç°**
  - ä¿®å¤ Ed25519Program ID é”™è¯¯
  - ä¿®å¤ @noble/ed25519 ä¾èµ–ç‰ˆæœ¬å’Œé…ç½®
  - å®ç°å®Œæ•´çš„ Borsh åºåˆ—åŒ–åŒ¹é…
  - æ‰€æœ‰ç­¾åéªŒè¯æµ‹è¯•é€šè¿‡
- âœ… **éƒ¨ç½²å’Œè¿ç»´è„šæœ¬å®Œå–„**
  - âœ… EVM åˆçº¦è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼ˆdeploy-evm.shï¼‰
  - âœ… SVM åˆçº¦è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼ˆdeploy-svm.shï¼‰
  - âœ… MockUSDC è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼ˆdeploy-mock-usdc.shï¼‰
  - âœ… æ”¯æŒ Arbitrum Sepolia å’Œ 1024chain Testnet
  - âœ… ç®€æ´è¾“å‡ºï¼Œè‡ªåŠ¨æ›´æ–° .env é…ç½®
  - âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œæ”¯æŒçµæ´»éƒ¨ç½²
  - âœ… TypeScript ç®¡ç†å‘˜å’Œç”¨æˆ·æ“ä½œè„šæœ¬ï¼ˆevm-admin.ts, evm-user.ts, svm-admin.ts, svm-user.tsï¼‰

**è¯¦ç»†è¿›åº¦ï¼š** å‚è§ [docs/progress.md](docs/progress.md)  
**æµ‹è¯•è®¡åˆ’ï¼š** å‚è§ [docs/testplan.md](docs/testplan.md)  
**APIæ–‡æ¡£ï¼š** å‚è§ [docs/api.md](docs/api.md)  
**è®¾è®¡æ–‡æ¡£ï¼š** å‚è§ [docs/design.md](docs/design.md)

### æ ¸å¿ƒç‰¹æ€§

- æ”¯æŒ EVMï¼ˆArbitrum Sepoliaï¼‰ä¸ SVMï¼ˆ1024chainï¼‰ä¹‹é—´çš„åŒå‘è·¨é“¾è½¬ç§»
- ä»…æ”¯æŒ USDC ä»£å¸çš„è·¨é“¾è½¬ç§»
- é‡‡ç”¨è´¨æŠ¼-è§£é”æœºåˆ¶ï¼Œè€Œéé“¸å¸-é”€æ¯æ¨¡å¼
- å¤šç­¾éªŒè¯æœºåˆ¶ï¼Œéœ€è¦è¶…è¿‡ 2/3 çš„ relayer ç­¾åæ‰èƒ½å®Œæˆè§£é”ï¼ˆæœ€å¤šæ”¯æŒ18ä¸ªrelayerï¼‰
- **åŸç”Ÿå¯†ç å­¦ç®—æ³•**ï¼šSVM ä½¿ç”¨ Ed25519ï¼ŒEVM ä½¿ç”¨ ECDSA (secp256k1) + EIP-191
- é˜²é‡æ”¾æ”»å‡»æœºåˆ¶ï¼šnonce é€’å¢åˆ¤æ–­ï¼ˆ64ä½æ— ç¬¦å·æ•´æ•°ï¼Œæº¢å‡ºé‡ç½®ä¸º0ï¼‰+ block_height
- æ”¯æŒè‡³å°‘100ä¸ªæœªå®Œæˆçš„è·¨é“¾è¯·æ±‚åŒæ—¶å­˜åœ¨
- æ”¯æŒè‡³å°‘1200ä¸ªç­¾åç¼“å­˜ï¼ˆ100ä¸ªè¯·æ±‚ Ã— 18ä¸ªrelayer = 1800ä¸ªç­¾åï¼‰

### å¯†ç å­¦ç®—æ³•è®¾è®¡

ç³»ç»Ÿé‡‡ç”¨**å„è‡ªåŸç”Ÿå¯†ç å­¦ç®—æ³•**çš„è®¾è®¡åŸåˆ™ï¼š

**SVM ç«¯ï¼ˆSolana/1024chainï¼‰**ï¼š
- ç­¾åç®—æ³•ï¼š**Ed25519**ï¼ˆSolana åŸç”Ÿï¼‰
- æ•°æ®åºåˆ—åŒ–ï¼š**Borsh**ï¼ˆAnchor æ ‡å‡†ï¼‰
- éªŒè¯æ–¹å¼ï¼š**Ed25519Program** é¢„ç¼–è¯‘åˆçº¦
- ç‰¹ç‚¹ï¼š64 å­—èŠ‚ç­¾åï¼Œæ€§èƒ½æä¼˜

**EVM ç«¯ï¼ˆEthereum/Arbitrumï¼‰**ï¼š
- ç­¾åç®—æ³•ï¼š**ECDSA (secp256k1)**ï¼ˆEthereum åŸç”Ÿï¼‰
- æ•°æ®åºåˆ—åŒ–ï¼š**JSON å­—ç¬¦ä¸²**
- å“ˆå¸Œç®—æ³•ï¼š**SHA-256 + Keccak256 (EIP-191)**
- éªŒè¯æ–¹å¼ï¼š**ecrecover** é¢„ç¼–è¯‘åˆçº¦
- ç‰¹ç‚¹ï¼š65 å­—èŠ‚ç­¾åï¼Œä¸ Ethereum ç”Ÿæ€å®Œå…¨å…¼å®¹

**è·¨é“¾å…¼å®¹æ€§**ï¼š
- Relayer è´Ÿè´£åœ¨ä¸¤ç§æ ¼å¼ä¹‹é—´è½¬æ¢
- ç›‘å¬ SVM äº‹ä»¶ â†’ ç”¨ ECDSA ç­¾å â†’ æäº¤åˆ° EVM
- ç›‘å¬ EVM äº‹ä»¶ â†’ ç”¨ Ed25519 ç­¾å â†’ æäº¤åˆ° SVM

## å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

**EVM å·¥å…·é“¾ï¼š**
```bash
# å®‰è£… Foundry
curl -L https://foundry.paradigm.xyz | bash && foundryup
```

**SVM å·¥å…·é“¾ï¼š**
```bash
# å®‰è£… Anchor å’Œ Solana CLI
cargo install --git https://github.com/coral-xyz/anchor avm --locked --force
sh -c "$(curl -sSfL https://release.solana.com/stable/install)"
solana-keygen new -o ~/.config/solana/id.json
```

### ä¸€é”®éƒ¨ç½²æµç¨‹

```bash
cp .env.evm.deploy.example .env.evm.deploy
cp .env.svm.deploy.example .env.svm.deploy
cp .env.invoke.example .env.invoke
cp .env.config-usdc-peer.example .env.config-usdc-peer
# å¡«å†™ç¼ºå¤±çš„é…ç½®
vim .env.evm.deploy  
vim .env.svm.deploy  
vim .env.invoke  
vim .env.config-usdc-peer  

cd scripts

# 1. éƒ¨ç½² EVM åˆçº¦
./01-deploy-evm.sh

# 2. éƒ¨ç½² SVM åˆçº¦ï¼ˆé€‰æ‹©å‡çº§æˆ–å…¨æ–°éƒ¨ç½²ï¼‰
./02-deploy-svm.sh

# æ£€æŸ¥å¹¶ç¡®ä¿ PEER_CONTRACT_ADDRESS_FOR_EVM å’Œ PEER_CONTRACT_ADDRESS_FOR_SVM é…ç½®æ­£ç¡®
vim ../.env.invoke  

# 3. é…ç½® USDC å’Œå¯¹ç«¯åœ°å€
cd -
cd scripts
./03-config-usdc-peer.sh

# 4.1 æ³¨å†Œ Relayerï¼ˆè‡ªåŠ¨ç”Ÿæˆå¯†é’¥ï¼‰
./04-register-relayer.sh
# ä¹‹åå‡è®¾ relayer è´¦æˆ·æ‹¥æœ‰å……è¶³çš„SOLå’ŒETHæ”¯ä»˜äº¤æ˜“è´¹ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨å‘è¿™äº›è´¦æˆ·å……å€¼

# 4.2 å……å€¼ Relayer è´¦æˆ·ï¼ˆå¯é€‰ï¼Œç”¨äºæ”¯ä»˜ gas è´¹ç”¨ï¼‰
./05-fund-relayer.sh

# 4.3 å¯åŠ¨ Relayer æœåŠ¡
./06-start-relayer.sh start

# 5 æ·»åŠ æµåŠ¨æ€§ï¼šç®¡ç†å‘˜ä»è‡ªå·±çš„è´¦æˆ·å‘é‡‘åº“åœ°å€è½¬å…¥USDC
npx ts-node evm-admin.ts add_liquidity 100000000
npx ts-node svm-admin.ts add_liquidity 100000000

# 6. æµ‹è¯•è·¨é“¾è½¬è´¦
npx ts-node svm-user.ts balance
npx ts-node evm-user.ts stake 100 <SVM_RECEIVER_PUBKEY>
npx ts-node svm-user.ts balance # ç¡®è®¤SVMä½™é¢å¢åŠ 

npx ts-node evm-user.ts balance
npx ts-node svm-user.ts stake 100 <EVM_RECEIVER_ADDRESS>
npx ts-node evm-user.ts balance # ç¡®è®¤EVMä½™é¢å¢åŠ 
```

è¯¦ç»†è¯´æ˜è§ [scripts/README.md](scripts/README.md)

### ä½¿ç”¨ Docker éƒ¨ç½² Relayer

ä¸»è¦ä¸åŒçš„æ˜¯ä¸Šé¢çš„ç¬¬å››æ­¥

```bash
# ç¡®ä¿å®Œæˆä¸Šé¢çš„1~3æ­¥

cd scripts
# 4.1 ç”Ÿæˆæ–°çš„relayerå¯†é’¥
./04-register-relayer.sh    # é€‰æ‹©yè¦†ç›–ç°æœ‰å¯†é’¥

cd ../relayer
# 4.2 åˆå§‹åŒ–relayeré…ç½®æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶å¤¹
./init-new-relayer.sh 1   # å°†envæ–‡ä»¶ç»Ÿä¸€å¤åˆ¶åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶ä¿®æ”¹submitterçš„QUEUE__PATH

# 4.3 å¯åŠ¨relayerå®¹å™¨
./start-container.sh 1    

# 4.4 æ£€æŸ¥relayerå®¹å™¨æ˜¯å¦å¯åŠ¨æˆåŠŸ
docker ps | grep relayer-container-relayer1

# 4.5 è¿è¡Œä¸‹ä¸€ä¸ªrelayer
cd ../scripts
./04-register-relayer.sh    # é€‰æ‹©yè¦†ç›–ç°æœ‰å¯†é’¥
cd ../relayer
./init-new-relayer.sh 2   
./start-container.sh 2    
docker ps | grep relayer-container-relayer2
```

## ä½¿ç”¨æ–¹æ³•

### è·¨é“¾è½¬è´¦æµç¨‹

1. ç”¨æˆ·åœ¨å‘é€ç«¯é“¾è°ƒç”¨è´¨æŠ¼æ¥å£ï¼Œä¼ å…¥è´¨æŠ¼æ•°é‡å’Œæ¥æ”¶ç«¯åœ°å€
2. å‘é€ç«¯åˆçº¦å°†ç”¨æˆ·çš„ USDC è½¬å…¥è´¨æŠ¼é‡‘åº“ï¼Œå¹¶è§¦å‘è´¨æŠ¼äº‹ä»¶
3. å¤šä¸ª relayer ç›‘å¬åˆ°è´¨æŠ¼äº‹ä»¶åï¼Œåˆ†åˆ«å¯¹äº‹ä»¶æ•°æ®è¿›è¡Œç­¾å
4. æ¯ä¸ª relayer å°†ç­¾ååçš„æ•°æ®å‘é€åˆ°æ¥æ”¶ç«¯åˆçº¦
5. æ¥æ”¶ç«¯åˆçº¦éªŒè¯ç­¾åï¼Œå½“è¾¾åˆ° 2/3 é˜ˆå€¼åï¼Œä»é‡‘åº“è§£é”ç­‰é‡ USDC åˆ°æ¥æ”¶åœ°å€

## é¡¹ç›®ç»“æ„

### æ™ºèƒ½åˆçº¦

- **svm/**ï¼šSolana æ™ºèƒ½åˆçº¦ï¼ˆ1024chain éƒ¨ç½²ï¼‰
  - **ç»Ÿä¸€åˆå§‹åŒ–**ï¼š`initialize` å‡½æ•°åŒæ—¶åˆå§‹åŒ–å‘é€ç«¯å’Œæ¥æ”¶ç«¯åˆçº¦
  - **USDCé…ç½®**ï¼š`configure_usdc` å‡½æ•°é…ç½®USDC mint accountåœ°å€
  - **ç»Ÿä¸€å¯¹ç«¯é…ç½®**ï¼š`configure_peer` å‡½æ•°åŒæ—¶é…ç½®å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„å¯¹ç«¯ä¿¡æ¯
  - å‘é€ç«¯åˆçº¦ï¼šè´Ÿè´£è´¨æŠ¼ USDC å¹¶è§¦å‘è´¨æŠ¼äº‹ä»¶ï¼ˆnonceè‡ªåŠ¨é€’å¢ï¼‰
  - æ¥æ”¶ç«¯åˆçº¦ï¼šéªŒè¯ relayer **Ed25519** ç­¾åå¹¶è§£é” USDCï¼ˆä½¿ç”¨nonceé€’å¢åˆ¤æ–­é˜²é‡æ”¾ï¼‰
  - æ¯ä¸ªè·¨é“¾è¯·æ±‚ä½¿ç”¨ç‹¬ç«‹çš„ CrossChainRequest PDA è´¦æˆ·å­˜å‚¨ç­¾åç¼“å­˜
  - **å¯†ç å­¦**ï¼šEd25519 ç­¾å + Borsh åºåˆ—åŒ–ï¼ˆSolana åŸç”Ÿï¼‰
  
- **evm/**ï¼šEVM æ™ºèƒ½åˆçº¦ï¼ˆArbitrum Sepolia éƒ¨ç½²ï¼‰
  - **åˆå§‹åŒ–**ï¼š`initialize` å‡½æ•°åˆå§‹åŒ–å‘é€ç«¯å’Œæ¥æ”¶ç«¯åˆçº¦
  - **USDCé…ç½®**ï¼š`configure_usdc` å‡½æ•°é…ç½®USDC ERC20åˆçº¦åœ°å€
  - **å¯¹ç«¯é…ç½®**ï¼š`configure_peer` å‡½æ•°é…ç½®å¯¹ç«¯åˆçº¦å’Œé“¾ID
  - å‘é€ç«¯åˆçº¦ï¼šè´Ÿè´£è´¨æŠ¼ USDC å¹¶è§¦å‘è´¨æŠ¼äº‹ä»¶
  - æ¥æ”¶ç«¯åˆçº¦ï¼šéªŒè¯ relayer **ECDSA** ç­¾åå¹¶è§£é” USDC
  - **é‡‘åº“è®¾è®¡ï¼ˆv2.0ï¼‰**ï¼šåˆçº¦æœ¬èº«ä½œä¸ºé‡‘åº“ï¼Œæ— éœ€å¤–éƒ¨ vault æˆ– approve
  - **å¯†ç å­¦**ï¼šECDSA (secp256k1) + EIP-191 + SHA-256 + JSONï¼ˆEthereum åŸç”Ÿï¼‰

### ä¸­ç»§æœåŠ¡

- **relayer/**ï¼šä¸­ç»§æœåŠ¡å™¨ï¼ˆRust å®ç° ğŸ¦€ï¼‰
  - **s2e æœåŠ¡** (SVMâ†’EVM)ï¼šâœ… **å®Œæ•´å®ç°å¹¶éªŒè¯**
    - å•ä¸€è¿›ç¨‹æ¶æ„
    - ç›‘å¬ 1024chain äº‹ä»¶ï¼ˆHTTP RPC è½®è¯¢ï¼‰
    - ECDSA ç­¾åï¼ˆSHA-256 + EIP-191ï¼‰
    - æäº¤åˆ° Arbitrum
    - HTTP APIï¼ˆç«¯å£ 8081ï¼‰
    - è¯¦ç»†è¯´æ˜ï¼š[relayer/README_S2E.md](relayer/README_S2E.md)
  - **e2s æœåŠ¡** (EVMâ†’SVM)ï¼šâœ… **å®Œæ•´å®ç°å¹¶è¿è¡Œ**
    - åˆ†ç¦»å¼æ¶æ„ï¼ˆè§£å†³ä¾èµ–å†²çªï¼‰
    - `e2s-listener`ï¼šç›‘å¬ Arbitrum äº‹ä»¶ â†’ æ–‡ä»¶é˜Ÿåˆ—
    - `e2s-submitter`ï¼šé˜Ÿåˆ—å¤„ç† â†’ Ed25519 ç­¾å â†’ æäº¤åˆ° 1024chain
    - HTTP APIï¼ˆç«¯å£ 8082ï¼‰
    - è¯¦ç»†è¯´æ˜ï¼š[relayer/README_E2S.md](relayer/README_E2S.md)
  - **HTTP API**ï¼šå¥åº·æ£€æŸ¥ã€çŠ¶æ€æŸ¥è¯¢ã€Prometheus æŒ‡æ ‡
  - **é«˜æ€§èƒ½æ¶æ„**ï¼šTokio å¼‚æ­¥è¿è¡Œæ—¶ + æ–‡ä»¶é˜Ÿåˆ—ï¼ˆe2sï¼‰/ å†…å­˜é˜Ÿåˆ—ï¼ˆs2eï¼‰
  - è¯¦ç»†è®¾è®¡è§ [relayer/README.md](relayer/README.md)

### éƒ¨ç½²å’Œè¿ç»´è„šæœ¬

- **scripts/**ï¼šéƒ¨ç½²å’Œæ“ä½œè„šæœ¬ï¼ˆTypeScript + Shellï¼‰- **å·²ç²¾ç®€è‡³ 11 ä¸ªæ ¸å¿ƒè„šæœ¬**
  - **éƒ¨ç½²è„šæœ¬**ï¼š
    - `01-deploy-evm.sh`ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½² EVM åˆçº¦åˆ° Arbitrum Sepolia
    - `02-deploy-svm.sh`ï¼šè‡ªåŠ¨åŒ–éƒ¨ç½² SVM åˆçº¦åˆ° 1024chainï¼ˆæ”¯æŒå‡çº§/å…¨æ–°éƒ¨ç½²ï¼‰
    - `03-config-usdc-peer.sh`ï¼šé…ç½® USDC åœ°å€å’Œå¯¹ç«¯åˆçº¦åœ°å€
    - `04-register-relayer.sh`ï¼šè‡ªåŠ¨ç”Ÿæˆå¹¶æ³¨å†Œ Relayer å¯†é’¥å¯¹
    - `05-fund-relayer.sh`ï¼šä¸º Relayer è´¦æˆ·å……å€¼ï¼ˆETH å’Œ SOLï¼‰
    - `06-start-relayer.sh`ï¼šå¯åŠ¨/åœæ­¢ Relayer æœåŠ¡ï¼ˆs2e, e2s-listener, e2s-submitterï¼‰
  - **ç®¡ç†è„šæœ¬**ï¼š
    - `evm-admin.ts`ï¼šEVM åˆçº¦ç®¡ç†æ“ä½œï¼ˆæŸ¥è¯¢çŠ¶æ€ã€é…ç½®ã€relayer ç®¡ç†ã€æµåŠ¨æ€§ç®¡ç†ï¼‰
    - `svm-admin.ts`ï¼šSVM åˆçº¦ç®¡ç†æ“ä½œï¼ˆæŸ¥è¯¢çŠ¶æ€ã€é…ç½®ã€relayer ç®¡ç†ã€æµåŠ¨æ€§ç®¡ç†ï¼‰
  - **ç”¨æˆ·è„šæœ¬**ï¼š
    - `evm-user.ts`ï¼šEVM ç”¨æˆ·æ“ä½œï¼ˆè´¨æŠ¼ USDCã€æŸ¥è¯¢ä½™é¢ï¼‰
    - `svm-user.ts`ï¼šSVM ç”¨æˆ·æ“ä½œï¼ˆè´¨æŠ¼ USDCã€æŸ¥è¯¢ä½™é¢ï¼‰
  - **æµ‹è¯•è„šæœ¬**ï¼š
    - `cross-chain-test.ts`ï¼šEVMâ†’SVM ç«¯åˆ°ç«¯æµ‹è¯•
    - `cross-chain-test-s2e.ts`ï¼šSVMâ†’EVM ç«¯åˆ°ç«¯æµ‹è¯•
  - è¯¦ç»†æ–‡æ¡£è§ [scripts/README.md](scripts/README.md)

### æ–‡æ¡£

- **README.md**ï¼šé¡¹ç›®æ¦‚è¿°å’Œä½¿ç”¨è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
- **docs/api.md**ï¼šAPI æ¥å£æ–‡æ¡£å’Œæ¨¡å—é—´è°ƒç”¨è§„çº¦
- **docs/testplan.md**ï¼šæµ‹è¯•è®¡åˆ’å’Œç”¨æˆ·æ•…äº‹
- **docs/progress.md**ï¼šé¡¹ç›®è¿›åº¦è·Ÿè¸ª

## é…ç½®è¯´æ˜

ç³»ç»Ÿéœ€è¦é…ç½®ä»¥ä¸‹å‚æ•°ä»¥æ”¯æŒä¸åŒç½‘ç»œç¯å¢ƒï¼ˆæµ‹è¯•ç½‘/ä¸»ç½‘ï¼‰ï¼š

- å‘é€ç«¯é“¾çš„ RPC åœ°å€
- æ¥æ”¶ç«¯é“¾çš„ RPC åœ°å€
- å‘é€ç«¯åˆçº¦åœ°å€
- æ¥æ”¶ç«¯åˆçº¦åœ°å€
- è´¨æŠ¼é‡‘åº“åœ°å€ï¼š
  - **SVMç«¯**ï¼šPDA é‡‘åº“åœ°å€ï¼ˆå‘é€ç«¯å’Œæ¥æ”¶ç«¯å…±äº«åŒä¸€ä¸ªé‡‘åº“ï¼‰
  - **EVMç«¯ï¼ˆv2.0ï¼‰**ï¼šåˆçº¦æœ¬èº«ä½œä¸ºé‡‘åº“ï¼Œä¸éœ€è¦å•ç‹¬é…ç½®
- ç®¡ç†å‘˜é’±åŒ…åœ°å€ï¼ˆSVM å’Œ EVM å„è‡ªç‹¬ç«‹ï¼Œä½†åœ¨SVMä¸­å‘é€ç«¯å’Œæ¥æ”¶ç«¯å…±äº«åŒä¸€ä¸ªç®¡ç†å‘˜ï¼‰
- USDCä»£å¸åœ°å€ï¼š
  - SVMç«¯ï¼šUSDC mint accountåœ°å€ï¼ˆé€šè¿‡ `configure_usdc` é…ç½®ï¼‰
  - EVMç«¯ï¼šUSDC ERC20åˆçº¦åœ°å€ï¼ˆé€šè¿‡ `configure_usdc` é…ç½®ï¼‰
- Relayer ç§é’¥åˆ—è¡¨ï¼ˆæœ€å¤š18ä¸ªrelayerï¼‰
- Chain IDï¼ˆArbitrum Sepolia/Mainnetï¼Œ1024chain Testnet/Mainnetï¼‰

### EVM v2.0 é‡‘åº“å˜æ›´

- âœ… **åˆçº¦å³é‡‘åº“**ï¼šåˆçº¦åœ°å€ç›´æ¥æŒæœ‰ USDCï¼Œä¸éœ€è¦å¤–éƒ¨ vault
- âœ… **ç®€åŒ–éƒ¨ç½²**ï¼šä¸éœ€è¦é…ç½® vault åœ°å€æˆ–è¿›è¡Œ approve æ“ä½œ
- âœ… **æµåŠ¨æ€§ç®¡ç†**ï¼šç›´æ¥å‘åˆçº¦åœ°å€è½¬å…¥ USDC å³å¯å¢åŠ æµåŠ¨æ€§
